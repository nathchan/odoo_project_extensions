<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>


        <record id="hr_timesheet_sheet_form_inherit" model="ir.ui.view">
            <field name="name">hr.timesheet.sheet.form.inherit</field>
            <field name="model">hr_timesheet_sheet.sheet</field>
            <field name="inherit_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_form"/>
            <field name="arch" type="xml">
                <data>

                    <xpath expr="//div[@class='oe_button_box']" position="replace"></xpath>

                    <xpath expr="//field[@name='total_attendance']" position="replace"></xpath>
                    <xpath expr="//field[@name='total_difference']" position="replace"></xpath>

                    <xpath expr="//widget[@type='weekly_timesheet']/.." position="replace">
                    </xpath>

                    <xpath expr="//field[@name='period_ids']/.." position="replace">
                    </xpath>



                    <xpath expr="//field[@name='timesheet_ids']/tree//field[@name='date']" position="after">
                        <field name="timesheet_department_id" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/form//field[@name='date']" position="after">
                        <field name="timesheet_department_id" />
                    </xpath>



                    <xpath expr="//field[@name='timesheet_ids']/tree//field[@name='name']" position="replace">
                        <field name="name" invisible="1" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/form//field[@name='name']" position="replace">
                        <field name="name" invisible="1" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/tree/field[@name='account_id']" position="after">
                        <field name="task_id" required="1"  domain="[('project_id.analytic_account_id', '=' , account_id)]" />
                        <field name="project_activity_id" required="1" widget="selection" />
                        <field name="timesheet_vehicle_id" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/form//field[@name='account_id']" position="after">
                        <field name="task_id" required="1" domain="[('project_id.analytic_account_id', '=' , account_id)]" />
                        <field name="project_activity_id" required="1" widget="selection" />
                        <field name="timesheet_vehicle_id" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/tree/field[@name='account_id']" position="replace">
                        <field name="account_id" string="Project"/>
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/form//field[@name='account_id']" position="replace">
                        <field name="account_id" string="Project"/>
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/tree//field[@name='unit_amount']" position="before">
                        <field name="timesheet_start_time" widget="float_time" />
                        <field name="timesheet_end_time" widget="float_time" />
                        <field name="timesheet_break_amount" widget="float_time" />
                    </xpath>

                    <xpath expr="//field[@name='timesheet_ids']/form//field[@name='unit_amount']" position="before">
                        <field name="timesheet_start_time" widget="float_time" />
                        <field name="timesheet_end_time" widget="float_time" />
                        <field name="timesheet_break_amount" widget="float_time" />
                    </xpath>


                </data>
            </field>
        </record>


        <record id="hr_timesheet_sheet_tree_simplified_inherit" model="ir.ui.view">
            <field name="name">hr.timesheet.sheet.tree.inherit</field>
            <field name="model">hr_timesheet_sheet.sheet</field>
            <field name="inherit_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_tree_simplified"></field>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='total_attendance']" position="replace"></xpath>
                    <xpath expr="//field[@name='total_difference']" position="replace"></xpath>
                </data>
            </field>
        </record>


    </data>
</openerp>